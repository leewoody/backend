---
title: SendUserFeedback
---

# Sends the stored user feedback data via mail
This tool allows the sending of stored user feedback data located on the globaldb via mail. Therefore a valid smtp server for those purposes has to be configured, you can find all available properties **here**.

It's possible to start the tool with only API credentials and a single mail address, or to provide various additional filters in form of input parameters and a set of recipients in form of a CSV-file. If no filters are set, all data available for type ``star-rating-v1`` and context group ``default`` are exported and send. The feedback is stored in a CSV-file, generated by the export feedback REST service and attached to the mail send. This file is only stored temporarily and deleted after the sending process is done.

Since the command line tool uses the REST API to delete the data, the user credentials are mandatory. The user can also set a distinct API path for the REST calls transmitted by this CLT.

## Parameters

- ``--api-root <arg>``      
URL to an alternative HTTP API endpoint. Example:
'https://192.168.0.1:8443/userfeedback/v1'
- ``-e,--end-time <arg> ``       
End time in seconds since 1970-01-01 00:00:00 UTC. Only feedback given before this time is deleted. If not set, all feedback since -s is deleted.
- ``-g,--context-group <arg>``   
The context group identifying the global DB where the feedback is stored. Default: 'default'.
- ``-s,--start-time <arg>``      
Start time in seconds since 1970-01-01 00:00:00 UTC. Only feedback given after this time is deleted. If not set, all feedback up to -e is deleted.
- ``-t,--type <arg>``            
The feedback type to delete. Default: 'star-rating-v1'.
- ``-U,--api-user <arg>``        
Username and password to use for API authentication (user:password).
- ``-b,--body <arg>``
The mail body (plain text).
- ``-S,--subject <arg>``
The mail subject. Default: "User Feedback Report: [time range]".
- ``-c,--compress``
Compress exported feedback. Optional, default: false.
- ``-r,--recipients <arg>``
Single Recipient's mail address like "Displayname <email@example.com>" or the local path to a CSV file containing all the recipients, starting with an '@' (@/tmp/file.csv). Where the address is followed by the display name, seperated by a comma.

### Examples

<code>senduserfeedback -s 1489536000 -r "Displayname <email@example.com>"</code>

Sends all data, stored from 17.02.17 00:00 until now for the context group ``default`` and the feedback type ``star-rating-v1`` to the address ``reports@example.com`` with the display name ``Feedback Reports``.

**CSV-file**

```
addressOne@example.com,Displayname
addressTwo@none.com

```

**CSV-file with PGP public keys**

```
addressOne@example.com,Displayname,/path/to/addressOne.pub.asc
addressTwo@none.com,,/path/to/addressTwo.pub.asc

```
